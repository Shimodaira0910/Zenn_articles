---
title: "HUGOã§ä½œã£ãŸãƒ–ãƒ­ã‚°ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã‚ˆã†ï¼"
emoji: "ğŸ—ï¸"
type: "tech"
topics:
  - "github"
  - "go"
  - "githubactions"
  - "githubpages"
  - "hugo"
published: true
published_at: "2023-11-02 12:20"
---

## ã¯ã˜ã‚ã«
ã€Œè‡ªåˆ†ã ã‘ã®ãƒ–ãƒ­ã‚°ã‚’å…¬é–‹ã—ã¦ã¿ãŸã„ãƒ¼ãƒ¼ï¼ã€ã¨æ€ã£ãŸã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ
ä»Šå›ã¯å‰å›è¨˜äº‹ã§ä½œæˆã—ãŸãƒ–ãƒ­ã‚°ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦å…¬é–‹ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚

## ä½¿ã£ãŸã‚‚ã®
| ä½¿ã£ãŸã‚‚ã® | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
| --- |  --- |
| macOS | Ventura 13.3.1 |
| Visual Studio Code | 1.80.1|
| HUGO | v0.113.0+extended darwin/arm64 |

## å‰å›ã®å†…å®¹
å‰å›ã€ç­†è€…ã¯ã“ã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚’ä½œæˆã—ã¦ãŠã‚Šã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/514f5104c615-20231101.png)
ã“ã®æ™‚ã«ã‚µãƒ©ãƒƒã¨HUGOã®ã“ã¨ã«è§¦ã‚Œã¦ã„ã‚‹ã®ã§ã€HUGOã£ã¦ä½•ã˜ã‚ƒã„ï¼ã¨ã„ã†æ–¹ã¯å®Ÿéš›ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¾ãŸã¯å‰å›ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
https://gohugo.io/documentation/
https://zenn.dev/emp_tech_blog/articles/51fc5f33eeef05

## Github Actionsã¨Github Pagesã¨ã¯ï¼Ÿ
Github Actionsã¯ã€å®šç¾©ã—ãŸå‡¦ç†ã¨æ¡ä»¶ã®çµ„ã¿åˆã‚ã›ï¼ˆWorkflowï¼‰ã‚’è‡ªå‹•åŒ–ã™ã‚‹Githubã®å…¬å¼æ©Ÿèƒ½ã«ãªã‚Šã¾ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªã«å¯¾ã™ã‚‹`push`ãªã©ã‚’æ¡ä»¶ã«ã€Workflowã«å®šç¾©ã—ã¦ãŠã„ãŸå‡¦ç†ã‚’è‡ªå‹•ã§è¡Œã£ã¦ãã‚Œã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“ã€CI/CD(ãƒ†ã‚¹ãƒˆã€ãƒ“ãƒ«ãƒ‰ã€ãƒ‡ãƒ—ãƒ­ã‚¤)ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

ä¸€æ–¹ã€Github Pagesã¯GitHubãƒªãƒã‚¸ãƒˆãƒªå†…ã®é™çš„ã‚¦ã‚§ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚Github Pagesã‚’ä½¿ãˆã°ã€HTML/CSS/JavaScriptã§ä½œæˆã•ã‚ŒãŸã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’éå¸¸ã«ç°¡å˜ã«ãƒ›ã‚¹ãƒˆã§ãã¾ã™ã€‚ã•ã‚‰ã«HTTPSã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚‚ã‚µãƒãƒ¼ãƒˆã—ã¦ãã‚Œã¡ã‚ƒã£ã¦ã¾ã™ã€‚ãã—ã¦ã€ç„¡æ–™(é‡è¦)ã§ã™ã€‚


## ã•ã£ãããƒ‡ãƒ—ãƒ­ã‚¤!
ãã‚Œã§ã¯HUGOã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ²¿ã£ã¦ã€Github Actionsã¨Github Pagesã‚’ç”¨ã„ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è¡Œã„ã¾ã™ã€‚
https://gohugo.io/hosting-and-deployment/hosting-on-github/
HUGOã«ãƒ‡ãƒ—ãƒ­ã‚¤ã®æ‰‹é †æ›¸ãŒã‚ã‚‹ãªã‚“ã¦ã€ã‹ãªã‚Šè¦ªåˆ‡ã§ã™ãªã€ã€ã€‚

---

### å‰æä½œæ¥­
ã¨ã€ãã®å‰ã«Githubã«ãƒ¬ãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚
â†“ãƒªãƒã‚¸ãƒˆãƒªã®ä½œã‚Šæ–¹å…¨ãçŸ¥ã‚‰ãªã„ã‚“ã ãœãªæ–¹ã¯ã€ä»¥ä¸‹ã®è³‡æ–™ãŒå‚è€ƒã«ãªã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚
https://atmarkit.itmedia.co.jp/ait/articles/1701/24/news141.html

ã“ã‚“ãªæ„Ÿã˜ã«Githubã«ãƒ¬ãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ãŸã‚‰OKã§ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/2f777d756ee4-20231101.png)

---

### Github Actionsã‚’ä½¿ãŠã†ï¼

![](https://storage.googleapis.com/zenn-user-upload/99d16b0415f7-20231101.png)

ã¾ãšã¯ãƒ¬ãƒã‚¸ãƒˆãƒªå†…ã®ã€ŒSettingsã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ã€ŒCode and automationã€ã‹ã‚‰ã€ŒPagesã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/b170aac050e4-20231101.png)

ã“ã‚“ãªæ„Ÿã˜ã®ç”»é¢ã«é·ç§»ã™ã‚‹ã®ã§ã€

![](https://storage.googleapis.com/zenn-user-upload/3cffe6e56101-20231101.png)

å›³ã«ä¸¸ã‚’ã¤ã‘ãŸéƒ¨åˆ†ã‚’ã€ŒDeploy from a branchã€ã‹ã‚‰ã€ŒGithub Actionsã€ã«å¤‰æ›´ã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/3de612e43f6d-20231101.png)

ãã®å¾Œã€ä½œæˆã—ãŸHUGOã®ãƒ–ãƒ­ã‚°ã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã€ã€Œ`.github/workflows`ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã€`hugo.yaml`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒšã—ã¦è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚(yamlãƒ•ã‚¡ã‚¤ãƒ«ã¯å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ã®å¼•ç”¨ã§ã™ã€‚: https://gohugo.io/hosting-and-deployment/hosting-on-github/)
```
mkdir .github/workflows
cd .github/workflows
touch hugo.yaml
```
```
# Sample workflow for building and deploying a Hugo site to GitHub Pages
name: Deploy Hugo site to Pages

on:
  # Runs on pushes targeting the default branch
  push:
    branches:
      - main

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: "pages"
  cancel-in-progress: false

# Default to bash
defaults:
  run:
    shell: bash

jobs:
  # Build job
  build:
    runs-on: ubuntu-latest
    env:
      HUGO_VERSION: 0.115.4
    steps:
      - name: Install Hugo CLI
        run: |
          wget -O ${{ runner.temp }}/hugo.deb https://github.com/gohugoio/hugo/releases/download/v${HUGO_VERSION}/hugo_extended_${HUGO_VERSION}_linux-amd64.deb \
          && sudo dpkg -i ${{ runner.temp }}/hugo.deb          
      - name: Install Dart Sass
        run: sudo snap install dart-sass
      - name: Checkout
        uses: actions/checkout@v3
        with:
          submodules: recursive
          fetch-depth: 0
      - name: Setup Pages
        id: pages
        uses: actions/configure-pages@v3
      - name: Install Node.js dependencies
        run: "[[ -f package-lock.json || -f npm-shrinkwrap.json ]] && npm ci || true"
      - name: Build with Hugo
        env:
          # For maximum backward compatibility with Hugo modules
          HUGO_ENVIRONMENT: production
          HUGO_ENV: production
        run: |
          hugo \
            --gc \
            --minify \
            --baseURL "${{ steps.pages.outputs.base_url }}/"          
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v1
        with:
          path: ./public

  # Deployment job
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v2
```

yamlãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ã‚³ãƒ”ãƒšãŒå®Œäº†ã—ãŸã‚‰ã€Githubã¸ã®`push`ã‚’è¡Œã„ã€Githubã¸ã‚‚ã†ä¸€åº¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚ãã‚Œã‹ã‚‰ã€ŒActionsã€ã‚¿ãƒ–ã‚’é–‹ãã€`push`ã—ãŸWorlflowã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/89ed21c8eaf2-20231101.png)
é·ç§»å…ˆã®ãƒšãƒ¼ã‚¸ã§ã€å®Ÿéš›ã«ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚
â†“ ã“ã®ã‚ˆã†ãªå½¢ã§ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ãŒã¤ã„ã¦ãŸã‚‰ãƒ“ãƒ«ãƒ‰andãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ã§ã™ï¼
![](https://storage.googleapis.com/zenn-user-upload/3c966a784fb2-20231101.png)
æ—©é€Ÿè¡¨ç¤ºã•ã‚ŒãŸURLã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸãƒ–ãƒ­ã‚°ã‚’ç¢ºèªã—ã«è¡Œãã¾ã—ã‚‡ã†ï¼ï¼


## ç„¡äº‹ãƒ‡ãƒ—ãƒ­ã‚¤ã§ããŸã¨æ€ã£ãŸã‚‰

![](https://storage.googleapis.com/zenn-user-upload/93ac007b49f8-20231101.png)

ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¦ã‚‹ï¼
ã§ã‚‚ã€ã€ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã¨è¨˜äº‹ãŒã€ã€ã€ãªã„ã€ã€ã€ã€ã€!?
![](https://storage.googleapis.com/zenn-user-upload/99b46c953809-20231101.png)

## åŸå› 
è¨˜äº‹ã‚’ä½œæˆã—ãŸéš›ã€ã€Œä¸‹æ›¸ãè¨˜äº‹ã€ã¨ã—ã¦`content/posts`é…ä¸‹ã«é…ç½®ã•ã‚Œã¦ã„ãŸã®ãŒåŸå› ã®ã‚ˆã†ã§ã™ã€‚ã“ã®ä¸‹æ›¸ãè¨˜äº‹ã®çŠ¶æ…‹ã§ã™ã¨ã€ãƒ“ãƒ«ãƒ‰ã—ãŸéš›ã«è¨˜äº‹ãŒç”Ÿæˆã•ã‚Œãªããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚
å‰å›ã®è¨˜äº‹ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®éš›ã«ä¸‹æ›¸ãè¨˜äº‹ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãŸã®ã¯ã€`hugo server`ã‚³ãƒãƒ³ãƒ‰ã«`--buildDrafts`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã„ãŸã‹ã‚‰ã®ã‚ˆã†ã§ã™ã€‚

ãƒ»ä¸‹æ›¸ãè¨˜äº‹ãªã—ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
```
hugo server 
```

ãƒ»ä¸‹æ›¸ãè¨˜äº‹ã‚‚ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
```
hugo server --buildDrafts
```

ã§ã¯ã€ã©ã“ã‚’è¦‹ã‚Œã°è¨˜äº‹ãŒä¸‹æ›¸ãçŠ¶æ…‹ã‹ã©ã†ã‹ã‚ã‹ã‚‹ã®ï¼Ÿï¼Ÿã¨ã„ã†è©±ã§ã™ãŒã€ã€

```md:my-first-post.md
---
title: "My First Post"
date: 2023-10-08T16:35:27+09:00
draft: true
---
åˆã‚ã¾ã—ã¦!
ãƒ–ãƒ­ã‚°å§‹ã‚ã¾ã—ãŸï¼ï¼
```

ã“ã®ç”Ÿæˆã—ãŸmdãƒ•ã‚¡ã‚¤ãƒ«ã®
```md:my-first-post.md
---
title: "My First Post"
date: 2023-10-08T16:35:27+09:00
# â†“ã“ã“
draft: true
---
```
draftã¨ã„ã†ç®‡æ‰€ã§ã—ãŸã€ã€ã€‚ã“ã“ã§è¨˜äº‹ã‚’ä¸‹æ›¸ãçŠ¶æ…‹ã‹ã©ã†ã‹åˆ¤åˆ¥ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚
https://makewithhugo.com/working-with-drafts/
ã˜ã‚ƒã‚ã©ã†ã™ã‚Œã°ãƒ“ãƒ«ãƒ‰ã—ãŸæ™‚ã«è¨˜äº‹ã¨ã—ã¦èªè­˜ã•ã‚Œã‚‹ã‚“ã™ã‹ã£ã¦è©±ã§ã™ãŒã€ç­”ãˆã¯ç°¡å˜ã§ã€`draft: false`ã«ã—ã¦ã‚„ã‚Œã°ã„ã„ã ã‘ã§ã™ã€‚

```md:my-first-post.md
---
title: "My First Post"
date: 2023-10-08T16:35:27+09:00
draft: false
---
åˆã‚ã¾ã—ã¦!
ãƒ–ãƒ­ã‚°å§‹ã‚ã¾ã—ãŸï¼ï¼
```

ã§ã¯å…¨ã¦ã®è¨˜äº‹ã‚’`draft: true`ã‹ã‚‰`draft: false`ã«å¤‰æ›´ã—ã€ã‚‚ã†ä¸€åº¦GitHubã«`push`ã—ã¦ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚ŒãŸãƒ–ãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

![](https://storage.googleapis.com/zenn-user-upload/0bf983addbb6-20231101.png)

ç„¡äº‹ã«è¨˜äº‹ã®å†…å®¹ã¨ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãŒåæ˜ ã•ã‚Œã¦ã„ã¾ã™ï¼

## ãŠã‚ã‚Šã«
ä»Šå›ã¯Github Actionsã¨Github Pagesã§HUGOã§ä½œæˆã—ãŸãƒ–ãƒ­ã‚°ã‚’å®Ÿéš›ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã—ã¾ã—ãŸã€‚
é€”ä¸­ãƒˆãƒ©ãƒ–ãƒ«ã‚‚ã‚ã‚Šã¾ã—ãŸãŒã€ãªã‚“ã¨ã‹ãƒ–ãƒ­ã‚°ã‚’å…¬é–‹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€ã€ã€ã€‚
Github Actionsã¨Github Pagesã‚’ä½¿ã†ã“ã¨ã§ã€CI/CDã‚’ç°¡å˜ã«å®Ÿè£…ã—ã€ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚
å‰å›ã®è¨˜äº‹ã§ã‚‚æ›¸ãã¾ã—ãŸãŒã€ãƒ‡ãƒ—ãƒ­ã‚¤ãŒç°¡å˜ãªã“ã¨ã‚’å«ã‚ã¦ã€å€‹äººãƒ–ãƒ­ã‚°ã‚’ä½œæˆã—ãŸã„äººã«ã¨ã£ã¦è‰¯ã„é¸æŠè‚¢ã®ä¸€ã¤ã«ãªã‚Šã†ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã ã¨æ”¹ã‚ã¦æ€ã„ã¾ã—ãŸã€‚

## å‚è€ƒè³‡æ–™ã¾ã¨ã‚
https://github.co.jp/features/actions
https://gohugo.io/documentation/
https://www.kagoya.jp/howto/it-glossary/develop/githubactions/
https://docs.github.com/ja/pages/getting-started-with-github-pages/about-github-pages
https://atmarkit.itmedia.co.jp/ait/articles/1701/24/news141.html
https://prog-8.com/docs/github-pages
https://makewithhugo.com/working-with-drafts/